# NATS Server Configuration for CodeSwitch
# 启用 JetStream 持久化消息

# 服务端口
port: 4222

# HTTP 监控端口
http_port: 8222

# WebSocket 支持 (供浏览器客户端使用)
websocket {
    port: 8223
    no_tls: true
}

# JetStream 配置
jetstream {
    store_dir: "./data/jetstream"
    max_memory_store: 256MB
    max_file_store: 10GB
}

# 日志配置
debug: false
trace: false
logtime: true
log_file: "./logs/nats-server.log"

# 连接限制
max_connections: 10000
max_payload: 4MB

# 客户端超时
ping_interval: 30s
ping_max: 3
write_deadline: 10s
